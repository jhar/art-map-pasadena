<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="bower_components/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="bower_components/bootstrap-material-design/dist/css/material-fullpalette.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Facebook API -->
  <div id="fb-root"></div>

  <!-- Login View -->
  <div class="jumbotron text-center" id="login" data-bind="style: {display: loggedIn() === true ? 'none' : 'block'}">
      <h1>project 5</h1>
      <p>Pasadena, California</p>
      <button class="btn btn-primary btn-raised" data-bind="click: function(){login();}">Login with Facebook</button>
  </div>


  <div id="app" class="container-fluid row full-height" data-bind="style: {display: loggedIn() === false ? 'none' : 'block'}">

      <!-- Search View -->
      <div class="navbar navbar-default col-xs-12 shadow-z-1" id="search">
        <div class="navbar-header">
          <span class="navbar-brand" data-bind="text: neighborhood"></span>
        </div>
        <form class="navbar-form navbar-left">
          <input type="text" data-bind="event: {keyup: liveSearch}" class="form-control" placeholder="Search">
        </form>
        <div class="togglebutton pull-right">
          <label>
            List
            <input type="checkbox" data-bind="checked: showList">
          </label>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="col-xs-12 col-sm-6 col-md-5 col-lg-4 no-padding" id="sidebar">

        <!-- List View -->
        <div class="shadow-z-1" data-bind="fadeVisible: showList" id="list">
          <div class="list-group" data-bind="foreach: entities">
            <div class="list-group-item" data-bind="click: $parent.clickedListItem, fadeVisible: visible">
              <i class="mdi-maps-pin-drop"></i>
              <span data-bind="text: name"></span>
            </div>
          </div>
        </div>

        <!-- Info View -->
        <div id="info-view">
          <img class="cover-photo" data-bind="attr: {src: coverPhotoURL}"></img>
          <h4 data-bind="visible: eventList().length > 0">Upcoming Events</span></h4>
          <h5 data-bind="if: markerHasBeenClicked, visible: eventList().length < 1">No upcoming events to show.</h5>
          <div class="list-group" data-bind="foreach: eventList.slice(0).reverse()">
            <div class="list-group-item">
              <div class="row-picture">
                <img class="circle img-responsive" data-bind="attr: {src: cover}">
              </div>
              <div class="row-content">
                <span class="list-group-item-heading"data-bind="text: name, attr: {href: '#' + id}" data-toggle="collapse"></span>
                <p class="list-group-item-text collapse" data-bind="attr: {id: id}, text: description"></p>
              </div>
              <div class="list-group-separator"></div>
            </div>
          </div>
        </div>

        <!-- Logout View -->
        <div id="logout">
          <button class="btn btn-warning btn-raised" data-bind="click: function(){logout();}">Logout of Facebook</login>
        </div>

      </div>
      <!-- End Sidebar -->

      <!-- Map View -->
      <div class="col-xs-12 col-sm-6 col-md-7 col-lg-8 full-height no-padding" id="map-container">
        <div class="full-height" id="map"></div>
      </div>

  </div>

  <footer>
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="bower_components/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="bower_components/bootstrap-material-design/dist/js/material.min.js"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-3tB7p20c-Zeb0GM3RxLB5ZSmFiZsIBQ"></script>
    <script type="text/javascript" src="bower_components/knockout/dist/knockout.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/facebook.js"></script>
  </footer>

</body>
</html>